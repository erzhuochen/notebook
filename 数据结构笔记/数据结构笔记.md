# 一、红黑树

## 1. 多路平衡树

多路平衡树包括：

- 多路平衡二叉树
- B树
- B+树
- 红黑树

用来减少磁盘I/O时间

一个树中的节点不只存放一个数据----> 多路查找树 ---保持平衡----> 多路平衡树（不允许有高度差）

### 1.1 2-3树

又称为3阶B树

由以下节点组成：

1. 二叉（2-）节点：含有一个数据和两个孩子的节点，其中左子树的值均小于父亲节点的值，右子树的值均大于父亲节点的值
2. 三叉（3-）节点：含有两个数据和三个孩子的节点，并且数据之间保持顺序性

下图就是2-3树

![image-20250730143845568](C:\Users\erzhuochen\AppData\Roaming\Typora\typora-user-images\image-20250730143845568.png)

### 1.2 2-3-4-...-n树

树中节点的度（阶）为n。

又叫n阶B树

 

## 2. B树

表示的是一类树，它允许一个节点可以有多于两个节点，同时没有高度差。具有度为3的B树，表示一个节点最多有三个子节点，也就是2-3树的定义。经常用于数据库的索引。

缺点：无法按范围查找元素。



## 3. 红黑树

用二叉树表示的4阶(或3阶)B树

如何用红黑树表示4阶B树？把x-节点拆分。

拆分前：

<img src="C:\Users\erzhuochen\AppData\Roaming\Typora\typora-user-images\image-20250730145812084.png" alt="image-20250730145812084" style="zoom:50%;" />



拆分后：

<img src="C:\Users\erzhuochen\AppData\Roaming\Typora\typora-user-images\image-20250730145909274.png" alt="image-20250730145909274" style="zoom:50%;" />

把拆分下来的节点标为红色。这就是红黑树名字的由来。

显然，红黑树一定是BST（二叉排序树）

### 3.1 红黑树的性质

首先：红黑树是一棵二叉查找树，另外，它必须满足：

1. 节点是红色或者黑色
2. 根节点是黑色：根节点没有父亲，不可能是被拆分下来的
3. 所有的叶子节点是黑色的（这里的叶子节点是NULL节点）
4. 每个红色节点的两个子节点都是黑色的（从根节点到每个叶子节点的路径不能有两个连续的红节点）
5. 从根节点到每个叶子节点的所有路径都包含相同数目的黑色节点：B树没有高度差

口诀：左根右（左子节点小于根节点），根叶黑，不红红（没有连续红色节点），黑路同